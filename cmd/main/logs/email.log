time="2024-10-30T16:31:55+02:00" level=info msg="Connected to database."
time="2024-10-30T16:31:55+02:00" level=info msg="Connected to database."
time="2024-10-30T16:31:55+02:00" level=info msg="Connected to database."
time="2024-10-30T16:31:55+02:00" level=info msg="Starting: 0.0.0.0:25"
time="2024-10-30T16:31:55+02:00" level=info msg="processing worker started (#3)"
time="2024-10-30T16:31:55+02:00" level=info msg="processing worker started (#2)"
time="2024-10-30T16:31:55+02:00" level=info msg="processing worker started (#1)"
time="2024-10-30T16:31:55+02:00" level=info msg="Listening on TCP 0.0.0.0:25"
time="2024-10-30T16:31:55+02:00" level=info msg="main log configured to ./logs/email.log"
time="2024-10-30T16:32:09+02:00" level=info msg="Connected to database."
time="2024-10-30T16:32:09+02:00" level=info msg="Connected to database."
time="2024-10-30T16:32:09+02:00" level=info msg="Connected to database."
time="2024-10-30T16:32:09+02:00" level=debug msg="making servers"
time="2024-10-30T16:32:09+02:00" level=info msg="processing worker started (#1)"
time="2024-10-30T16:32:09+02:00" level=info msg="processing worker started (#2)"
time="2024-10-30T16:32:09+02:00" level=info msg="processing worker started (#3)"
time="2024-10-30T16:32:09+02:00" level=info msg="Starting: 0.0.0.0:25"
time="2024-10-30T16:32:09+02:00" level=info msg="Listening on TCP 0.0.0.0:25"
time="2024-10-30T16:32:09+02:00" level=debug msg="[0.0.0.0:25] Waiting for a new client. Next Client ID: 1"
time="2024-10-30T16:32:09+02:00" level=info msg="main log configured to ./logs/email.log"
time="2024-10-30T16:32:34+02:00" level=info msg="Connected to database."
time="2024-10-30T16:32:34+02:00" level=info msg="Connected to database."
time="2024-10-30T16:32:34+02:00" level=info msg="Connected to database."
time="2024-10-30T16:32:34+02:00" level=debug msg="making servers"
time="2024-10-30T16:32:34+02:00" level=info msg="processing worker started (#2)"
time="2024-10-30T16:32:34+02:00" level=info msg="Starting: 0.0.0.0:2526"
time="2024-10-30T16:32:34+02:00" level=info msg="processing worker started (#3)"
time="2024-10-30T16:32:34+02:00" level=info msg="processing worker started (#1)"
time="2024-10-30T16:32:34+02:00" level=info msg="Listening on TCP 0.0.0.0:2526"
time="2024-10-30T16:32:34+02:00" level=debug msg="[0.0.0.0:2526] Waiting for a new client. Next Client ID: 1"
time="2024-10-30T16:32:34+02:00" level=info msg="main log configured to ./logs/email.log"
time="2024-10-30T16:32:54+02:00" level=debug msg="[0.0.0.0:2526] Waiting for a new client. Next Client ID: 2"
time="2024-10-30T16:32:54+02:00" level=info msg="Handle client [::1], id: 1"
time="2024-10-30T16:32:54+02:00" level=debug msg="Writing response to client: \n220 vm4408.kaj.pouta.csc.fi SMTP Guerrilla(unknown) #1 (1) 2024-10-30T16:32:54+02:00\r\n"
time="2024-10-30T16:32:54+02:00" level=debug msg="Client sent: ehlo WAP-Cfa61lioQns.wapice.localdomain"
time="2024-10-30T16:32:54+02:00" level=debug msg="Writing response to client: \n250-vm4408.kaj.pouta.csc.fi Hello\r\n250-SIZE 100017\r\n250-PIPELINING\r\n250-ENHANCEDSTATUSCODES\r\n250 HELP\r\n"
time="2024-10-30T16:32:54+02:00" level=debug msg="Client sent: mail FROM:<tester@gmail.com> size=140"
time="2024-10-30T16:32:54+02:00" level=debug msg="Writing response to client: \n250 2.1.0 OK\r\n"
time="2024-10-30T16:32:54+02:00" level=debug msg="Client sent: rcpt TO:<tester@vm4408.kaj.pouta.csc.fi>"
time="2024-10-30T16:32:54+02:00" level=debug msg="Writing response to client: \n250 2.1.5 OK\r\n"
time="2024-10-30T16:32:54+02:00" level=debug msg="Client sent: data"
time="2024-10-30T16:32:54+02:00" level=debug msg="Writing response to client: \n354 Enter message, ending with '.' on a line by itself\r\n"
time="2024-10-30T16:32:54+02:00" level=info msg="Mail from: tester@gmail.com / to: [{tester vm4408.kaj.pouta.csc.fi [] [] false false <nil>  false}]"
time="2024-10-30T16:32:54+02:00" level=info msg="Headers are:map[From:[Tester <tester@gmail.com>] Subject:[SMTP e-mail test] To:[Testari <tester@vm4408.kaj.pouta.csc.fi>]]"
time="2024-10-30T16:32:54+02:00" level=warning msg="Failed to fetch inboxes from database: %s pq: no pg_hba.conf entry for host \"192.168.201.19\", user \"postgres\", database \"emaildb\", no encryption"
time="2024-10-30T16:32:54+02:00" level=error msg="worker recovered from panic:runtime error: invalid memory address or nil pointer dereferencegoroutine 23 [running]:\nruntime/debug.Stack()\n\tC:/Program Files/Go/src/runtime/debug/stack.go:24 +0x5e\ngithub.com/phires/go-guerrilla/backends.(*BackendGateway).workDispatcher.func1()\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/gateway.go:437 +0x58\npanic({0xabe140?, 0xecb150?})\n\tC:/Program Files/Go/src/runtime/panic.go:770 +0x132\ndatabase/sql.(*Rows).closemuRUnlockIfHeldByScan(0xc0001550a0?)\n\tC:/Program Files/Go/src/database/sql/sql.go:3366 +0xe\ndatabase/sql.(*Rows).Next(0x0)\n\tC:/Program Files/Go/src/database/sql/sql.go:3014 +0x1c\ngithub.com/ughhuh/go-email-server/backend.(*PSQLProcessor).getValidRecepients(0xc0000acbc0, 0x3?, {0xc0001a6020, 0x2, 0xaa8260?})\n\tC:/Users/alegal/Desktop/thesis/go-email-server/backend/p_postgre.go:286 +0x13f\ngithub.com/ughhuh/go-email-server/backend.PSQL.func3.1(0xc0002aa000, 0x2?)\n\tC:/Users/alegal/Desktop/thesis/go-email-server/backend/p_postgre.go:153 +0xa15\ngithub.com/phires/go-guerrilla/backends.ProcessWith.Process(0xc000308090?, 0xc00006c300?, 0x1?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/processor.go:37 +0x1c\ngithub.com/phires/go-guerrilla/backends.Debugger.func2.1(0xc0002aa000, 0xc000028b80?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/p_debugger.go:64 +0x2e6\ngithub.com/phires/go-guerrilla/backends.ProcessWith.Process(0xf830a0?, 0x2?, 0xc00002db68?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/processor.go:37 +0x1c\ngithub.com/phires/go-guerrilla/backends.init.4.func1.Hasher.1.1(0xc0002aa000, 0x1?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/p_hasher.go:53 +0x3b7\ngithub.com/phires/go-guerrilla/backends.ProcessWith.Process(0xc00000a246?, 0xc0000203f0?, 0xefd320?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/processor.go:37 +0x1c\ngithub.com/phires/go-guerrilla/backends.Header.func2.1(0xc0002aa000, 0xffffffffffffffff?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/p_header.go:77 +0x4cb\ngithub.com/phires/go-guerrilla/backends.ProcessWith.Process(0xc0002aa000?, 0xc000084a80?, 0xc00002df08?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/processor.go:37 +0x1c\ngithub.com/phires/go-guerrilla/backends.init.6.func1.HeadersParser.1.1(0xc0002aa000, 0x1?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/p_headers_parser.go:32 +0xb4\ngithub.com/phires/go-guerrilla/backends.ProcessWith.Process(0xc00002df08?, 0xc00002de90?, 0x0?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/processor.go:37 +0x1c\ngithub.com/phires/go-guerrilla/backends.(*BackendGateway).workDispatcher(0x0?, 0xc0000fe600, {0xbbe460, 0xc0000907c8}, {0xbbe500, 0xf830a0}, 0x2, 0xc000086780)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/gateway.go:459 +0x22a\ngithub.com/phires/go-guerrilla/backends.(*BackendGateway).Start.func1(0x1, 0xc000086780)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/gateway.go:357 +0x85\ncreated by github.com/phires/go-guerrilla/backends.(*BackendGateway).Start in goroutine 1\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/gateway.go:354 +0x25c\n"
time="2024-10-30T16:32:54+02:00" level=info msg="processing worker started (#2)"
time="2024-10-30T16:32:54+02:00" level=debug msg="Writing response to client: \n554 5.5.0 Error: storage failed\r\n"
time="2024-10-30T16:32:54+02:00" level=debug msg="Client sent: rset"
time="2024-10-30T16:32:54+02:00" level=debug msg="Writing response to client: \n250 2.1.0 OK\r\n"
time="2024-10-30T16:32:54+02:00" level=debug msg="Client sent: "
time="2024-10-30T16:32:54+02:00" level=warning msg="Client closed the connection: ::1" error=EOF
time="2024-10-30T16:34:22+02:00" level=info msg="Connected to database."
time="2024-10-30T16:34:22+02:00" level=info msg="Connected to database."
time="2024-10-30T16:34:22+02:00" level=info msg="Connected to database."
time="2024-10-30T16:34:22+02:00" level=debug msg="making servers"
time="2024-10-30T16:34:22+02:00" level=info msg="Starting: 0.0.0.0:2526"
time="2024-10-30T16:34:22+02:00" level=info msg="processing worker started (#1)"
time="2024-10-30T16:34:22+02:00" level=info msg="processing worker started (#3)"
time="2024-10-30T16:34:22+02:00" level=info msg="processing worker started (#2)"
time="2024-10-30T16:34:22+02:00" level=info msg="Listening on TCP 0.0.0.0:2526"
time="2024-10-30T16:34:22+02:00" level=debug msg="[0.0.0.0:2526] Waiting for a new client. Next Client ID: 1"
time="2024-10-30T16:34:22+02:00" level=info msg="main log configured to ./logs/email.log"
time="2024-10-30T16:34:27+02:00" level=debug msg="[0.0.0.0:2526] Waiting for a new client. Next Client ID: 2"
time="2024-10-30T16:34:27+02:00" level=info msg="Handle client [::1], id: 1"
time="2024-10-30T16:34:27+02:00" level=debug msg="Writing response to client: \n220 vm4408.kaj.pouta.csc.fi SMTP Guerrilla(unknown) #1 (1) 2024-10-30T16:34:27+02:00\r\n"
time="2024-10-30T16:34:27+02:00" level=debug msg="Client sent: ehlo WAP-Cfa61lioQns.wapice.localdomain"
time="2024-10-30T16:34:27+02:00" level=debug msg="Writing response to client: \n250-vm4408.kaj.pouta.csc.fi Hello\r\n250-SIZE 100017\r\n250-PIPELINING\r\n250-ENHANCEDSTATUSCODES\r\n250 HELP\r\n"
time="2024-10-30T16:34:27+02:00" level=debug msg="Client sent: mail FROM:<tester@gmail.com> size=140"
time="2024-10-30T16:34:27+02:00" level=debug msg="Writing response to client: \n250 2.1.0 OK\r\n"
time="2024-10-30T16:34:27+02:00" level=debug msg="Client sent: rcpt TO:<tester@vm4408.kaj.pouta.csc.fi>"
time="2024-10-30T16:34:27+02:00" level=debug msg="Writing response to client: \n250 2.1.5 OK\r\n"
time="2024-10-30T16:34:27+02:00" level=debug msg="Client sent: data"
time="2024-10-30T16:34:27+02:00" level=debug msg="Writing response to client: \n354 Enter message, ending with '.' on a line by itself\r\n"
time="2024-10-30T16:34:27+02:00" level=info msg="Mail from: tester@gmail.com / to: [{tester vm4408.kaj.pouta.csc.fi [] [] false false <nil>  false}]"
time="2024-10-30T16:34:27+02:00" level=info msg="Headers are:map[From:[Tester <tester@gmail.com>] Subject:[SMTP e-mail test] To:[Testari <tester@vm4408.kaj.pouta.csc.fi>]]"
time="2024-10-30T16:34:27+02:00" level=debug
time="2024-10-30T16:34:27+02:00" level=debug msg=text/plain
time="2024-10-30T16:34:27+02:00" level=warning msg="Failed to fetch inboxes from database: %s pq: no pg_hba.conf entry for host \"192.168.201.19\", user \"postgres\", database \"emaildb\", no encryption"
time="2024-10-30T16:34:27+02:00" level=error msg="worker recovered from panic:runtime error: invalid memory address or nil pointer dereferencegoroutine 9 [running]:\nruntime/debug.Stack()\n\tC:/Program Files/Go/src/runtime/debug/stack.go:24 +0x5e\ngithub.com/phires/go-guerrilla/backends.(*BackendGateway).workDispatcher.func1()\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/gateway.go:437 +0x58\npanic({0xb1e140?, 0xf2b150?})\n\tC:/Program Files/Go/src/runtime/panic.go:770 +0x132\ndatabase/sql.(*Rows).closemuRUnlockIfHeldByScan(0xc00008e0e0?)\n\tC:/Program Files/Go/src/database/sql/sql.go:3366 +0xe\ndatabase/sql.(*Rows).Next(0x0)\n\tC:/Program Files/Go/src/database/sql/sql.go:3014 +0x1c\ngithub.com/ughhuh/go-email-server/backend.(*PSQLProcessor).getValidRecepients(0xc00006cb40, 0x3?, {0xc000218460, 0x2, 0xb08260?})\n\tC:/Users/alegal/Desktop/thesis/go-email-server/backend/p_postgre.go:287 +0x13f\ngithub.com/ughhuh/go-email-server/backend.PSQL.func3.1(0xc0002b8000, 0x2?)\n\tC:/Users/alegal/Desktop/thesis/go-email-server/backend/p_postgre.go:154 +0xb15\ngithub.com/phires/go-guerrilla/backends.ProcessWith.Process(0xc00021a090?, 0xc0002182a0?, 0x1?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/processor.go:37 +0x1c\ngithub.com/phires/go-guerrilla/backends.Debugger.func2.1(0xc0002b8000, 0xc000204a00?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/p_debugger.go:64 +0x2e6\ngithub.com/phires/go-guerrilla/backends.ProcessWith.Process(0xfe30a0?, 0x2?, 0xc000287b68?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/processor.go:37 +0x1c\ngithub.com/phires/go-guerrilla/backends.init.4.func1.Hasher.1.1(0xc0002b8000, 0x1?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/p_hasher.go:53 +0x3b7\ngithub.com/phires/go-guerrilla/backends.ProcessWith.Process(0xc0002121e6?, 0xc000238360?, 0xf5d320?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/processor.go:37 +0x1c\ngithub.com/phires/go-guerrilla/backends.Header.func2.1(0xc0002b8000, 0xffffffffffffffff?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/p_header.go:77 +0x4cb\ngithub.com/phires/go-guerrilla/backends.ProcessWith.Process(0xc0002b8000?, 0xc00005f6c0?, 0xc000287f08?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/processor.go:37 +0x1c\ngithub.com/phires/go-guerrilla/backends.init.6.func1.HeadersParser.1.1(0xc0002b8000, 0x1?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/p_headers_parser.go:32 +0xb4\ngithub.com/phires/go-guerrilla/backends.ProcessWith.Process(0xc000287f08?, 0xc000287e90?, 0x0?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/processor.go:37 +0x1c\ngithub.com/phires/go-guerrilla/backends.(*BackendGateway).workDispatcher(0x0?, 0xc00007a660, {0xc1e4a0, 0xc000008798}, {0xc1e540, 0xfe30a0}, 0x1, 0xc00001e780)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/gateway.go:459 +0x22a\ngithub.com/phires/go-guerrilla/backends.(*BackendGateway).Start.func1(0x0, 0xc00001e780)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/gateway.go:357 +0x85\ncreated by github.com/phires/go-guerrilla/backends.(*BackendGateway).Start in goroutine 1\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/gateway.go:354 +0x25c\n"
time="2024-10-30T16:34:27+02:00" level=info msg="processing worker started (#1)"
time="2024-10-30T16:34:27+02:00" level=debug msg="Writing response to client: \n554 5.5.0 Error: storage failed\r\n"
time="2024-10-30T16:34:27+02:00" level=debug msg="Client sent: rset"
time="2024-10-30T16:34:27+02:00" level=debug msg="Writing response to client: \n250 2.1.0 OK\r\n"
time="2024-10-30T16:34:27+02:00" level=debug msg="Client sent: "
time="2024-10-30T16:34:27+02:00" level=warning msg="Client closed the connection: ::1" error=EOF
time="2024-10-30T16:35:12+02:00" level=debug msg="[0.0.0.0:2526] Waiting for a new client. Next Client ID: 3"
time="2024-10-30T16:35:12+02:00" level=info msg="Handle client [::1], id: 2"
time="2024-10-30T16:35:12+02:00" level=debug msg="Writing response to client: \n220 vm4408.kaj.pouta.csc.fi SMTP Guerrilla(unknown) #2 (1) 2024-10-30T16:35:12+02:00\r\n"
time="2024-10-30T16:35:12+02:00" level=debug msg="Client sent: ehlo WAP-Cfa61lioQns.wapice.localdomain"
time="2024-10-30T16:35:12+02:00" level=debug msg="Writing response to client: \n250-vm4408.kaj.pouta.csc.fi Hello\r\n250-SIZE 100017\r\n250-PIPELINING\r\n250-ENHANCEDSTATUSCODES\r\n250 HELP\r\n"
time="2024-10-30T16:35:12+02:00" level=debug msg="Client sent: mail FROM:<tester@gmail.com> size=142"
time="2024-10-30T16:35:12+02:00" level=debug msg="Writing response to client: \n250 2.1.0 OK\r\n"
time="2024-10-30T16:35:12+02:00" level=debug msg="Client sent: rcpt TO:<tester@vm4408.kaj.pouta.csc.fi>"
time="2024-10-30T16:35:12+02:00" level=debug msg="Writing response to client: \n250 2.1.5 OK\r\n"
time="2024-10-30T16:35:12+02:00" level=debug msg="Client sent: data"
time="2024-10-30T16:35:12+02:00" level=debug msg="Writing response to client: \n354 Enter message, ending with '.' on a line by itself\r\n"
time="2024-10-30T16:35:12+02:00" level=info msg="Mail from: tester@gmail.com / to: [{tester vm4408.kaj.pouta.csc.fi [] [] false false <nil>  false}]"
time="2024-10-30T16:35:12+02:00" level=info msg="Headers are:map[From:[Tester <tester@gmail.com>] Subject:[SMTP e-mail test] To:[Testari <tester@vm4408.kaj.pouta.csc.fi>]]"
time="2024-10-30T16:35:12+02:00" level=debug
time="2024-10-30T16:35:12+02:00" level=debug msg=text/plain
time="2024-10-30T16:35:12+02:00" level=warning msg="Failed to fetch inboxes from database: %s pq: no pg_hba.conf entry for host \"192.168.201.19\", user \"postgres\", database \"emaildb\", no encryption"
time="2024-10-30T16:35:12+02:00" level=error msg="worker recovered from panic:runtime error: invalid memory address or nil pointer dereferencegoroutine 11 [running]:\nruntime/debug.Stack()\n\tC:/Program Files/Go/src/runtime/debug/stack.go:24 +0x5e\ngithub.com/phires/go-guerrilla/backends.(*BackendGateway).workDispatcher.func1()\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/gateway.go:437 +0x58\npanic({0xb1e140?, 0xf2b150?})\n\tC:/Program Files/Go/src/runtime/panic.go:770 +0x132\ndatabase/sql.(*Rows).closemuRUnlockIfHeldByScan(0xc00008e000?)\n\tC:/Program Files/Go/src/database/sql/sql.go:3366 +0xe\ndatabase/sql.(*Rows).Next(0x0)\n\tC:/Program Files/Go/src/database/sql/sql.go:3014 +0x1c\ngithub.com/ughhuh/go-email-server/backend.(*PSQLProcessor).getValidRecepients(0xc00006cd00, 0x3?, {0xc00029a3e0, 0x2, 0xb08260?})\n\tC:/Users/alegal/Desktop/thesis/go-email-server/backend/p_postgre.go:287 +0x13f\ngithub.com/ughhuh/go-email-server/backend.PSQL.func3.1(0xc0002b8000, 0x2?)\n\tC:/Users/alegal/Desktop/thesis/go-email-server/backend/p_postgre.go:154 +0xb15\ngithub.com/phires/go-guerrilla/backends.ProcessWith.Process(0xc0002d6000?, 0xc0001d6a40?, 0x1?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/processor.go:37 +0x1c\ngithub.com/phires/go-guerrilla/backends.Debugger.func2.1(0xc0002b8000, 0xc0001e2280?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/p_debugger.go:64 +0x2e6\ngithub.com/phires/go-guerrilla/backends.ProcessWith.Process(0xfe30a0?, 0x2?, 0xc000283b68?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/processor.go:37 +0x1c\ngithub.com/phires/go-guerrilla/backends.init.4.func1.Hasher.1.1(0xc0002b8000, 0x1?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/p_hasher.go:53 +0x3b7\ngithub.com/phires/go-guerrilla/backends.ProcessWith.Process(0xc00029424a?, 0xc000020240?, 0xf5d320?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/processor.go:37 +0x1c\ngithub.com/phires/go-guerrilla/backends.Header.func2.1(0xc0002b8000, 0xffffffffffffffff?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/p_header.go:77 +0x4cb\ngithub.com/phires/go-guerrilla/backends.ProcessWith.Process(0xc0002b8000?, 0xc00005fa40?, 0xc000283f08?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/processor.go:37 +0x1c\ngithub.com/phires/go-guerrilla/backends.init.6.func1.HeadersParser.1.1(0xc0002b8000, 0x1?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/p_headers_parser.go:32 +0xb4\ngithub.com/phires/go-guerrilla/backends.ProcessWith.Process(0xc000283f08?, 0xc000283e90?, 0x0?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/processor.go:37 +0x1c\ngithub.com/phires/go-guerrilla/backends.(*BackendGateway).workDispatcher(0x0?, 0xc00007a660, {0xc1e4a0, 0xc000008828}, {0xc1e540, 0xfe30a0}, 0x3, 0xc00001e840)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/gateway.go:459 +0x22a\ngithub.com/phires/go-guerrilla/backends.(*BackendGateway).Start.func1(0x2, 0xc00001e840)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/gateway.go:357 +0x85\ncreated by github.com/phires/go-guerrilla/backends.(*BackendGateway).Start in goroutine 1\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/gateway.go:354 +0x25c\n"
time="2024-10-30T16:35:12+02:00" level=info msg="processing worker started (#3)"
time="2024-10-30T16:35:12+02:00" level=debug msg="Writing response to client: \n554 5.5.0 Error: storage failed\r\n"
time="2024-10-30T16:35:12+02:00" level=debug msg="Client sent: rset"
time="2024-10-30T16:35:12+02:00" level=debug msg="Writing response to client: \n250 2.1.0 OK\r\n"
time="2024-10-30T16:35:12+02:00" level=debug msg="Client sent: "
time="2024-10-30T16:35:12+02:00" level=warning msg="Client closed the connection: ::1" error=EOF
time="2024-10-30T16:36:52+02:00" level=info msg="Connected to database."
time="2024-10-30T16:36:52+02:00" level=info msg="Connected to database."
time="2024-10-30T16:36:52+02:00" level=info msg="Connected to database."
time="2024-10-30T16:36:52+02:00" level=debug msg="making servers"
time="2024-10-30T16:36:52+02:00" level=info msg="Starting: 0.0.0.0:2526"
time="2024-10-30T16:36:52+02:00" level=info msg="processing worker started (#2)"
time="2024-10-30T16:36:52+02:00" level=info msg="processing worker started (#1)"
time="2024-10-30T16:36:52+02:00" level=info msg="processing worker started (#3)"
time="2024-10-30T16:36:52+02:00" level=info msg="Listening on TCP 0.0.0.0:2526"
time="2024-10-30T16:36:52+02:00" level=debug msg="[0.0.0.0:2526] Waiting for a new client. Next Client ID: 1"
time="2024-10-30T16:36:52+02:00" level=info msg="main log configured to ./logs/email.log"
time="2024-10-30T16:36:56+02:00" level=debug msg="[0.0.0.0:2526] Waiting for a new client. Next Client ID: 2"
time="2024-10-30T16:36:56+02:00" level=info msg="Handle client [::1], id: 1"
time="2024-10-30T16:36:56+02:00" level=debug msg="Writing response to client: \n220 vm4408.kaj.pouta.csc.fi SMTP Guerrilla(unknown) #1 (1) 2024-10-30T16:36:56+02:00\r\n"
time="2024-10-30T16:36:56+02:00" level=debug msg="Client sent: ehlo WAP-Cfa61lioQns.wapice.localdomain"
time="2024-10-30T16:36:56+02:00" level=debug msg="Writing response to client: \n250-vm4408.kaj.pouta.csc.fi Hello\r\n250-SIZE 100017\r\n250-PIPELINING\r\n250-ENHANCEDSTATUSCODES\r\n250 HELP\r\n"
time="2024-10-30T16:36:56+02:00" level=debug msg="Client sent: mail FROM:<tester@gmail.com> size=142"
time="2024-10-30T16:36:56+02:00" level=debug msg="Writing response to client: \n250 2.1.0 OK\r\n"
time="2024-10-30T16:36:56+02:00" level=debug msg="Client sent: rcpt TO:<tester@vm4408.kaj.pouta.csc.fi>"
time="2024-10-30T16:36:56+02:00" level=debug msg="Writing response to client: \n250 2.1.5 OK\r\n"
time="2024-10-30T16:36:56+02:00" level=debug msg="Client sent: data"
time="2024-10-30T16:36:56+02:00" level=debug msg="Writing response to client: \n354 Enter message, ending with '.' on a line by itself\r\n"
time="2024-10-30T16:36:56+02:00" level=info msg="Mail from: tester@gmail.com / to: [{tester vm4408.kaj.pouta.csc.fi [] [] false false <nil>  false}]"
time="2024-10-30T16:36:56+02:00" level=info msg="Headers are:map[From:[Tester <tester@gmail.com>] Subject:[SMTP e-mail test] To:[Testari <tester@vm4408.kaj.pouta.csc.fi>]]"
time="2024-10-30T16:36:56+02:00" level=debug msg="\nThis is a test e-mail message.\n"
time="2024-10-30T16:36:56+02:00" level=debug msg=text/plain
time="2024-10-30T16:36:56+02:00" level=warning msg="Failed to fetch inboxes from database: %s pq: no pg_hba.conf entry for host \"192.168.201.19\", user \"postgres\", database \"emaildb\", no encryption"
time="2024-10-30T16:36:56+02:00" level=error msg="worker recovered from panic:runtime error: invalid memory address or nil pointer dereferencegoroutine 10 [running]:\nruntime/debug.Stack()\n\tC:/Program Files/Go/src/runtime/debug/stack.go:24 +0x5e\ngithub.com/phires/go-guerrilla/backends.(*BackendGateway).workDispatcher.func1()\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/gateway.go:437 +0x58\npanic({0xf5e140?, 0x136b150?})\n\tC:/Program Files/Go/src/runtime/panic.go:770 +0x132\ndatabase/sql.(*Rows).closemuRUnlockIfHeldByScan(0xc000188000?)\n\tC:/Program Files/Go/src/database/sql/sql.go:3366 +0xe\ndatabase/sql.(*Rows).Next(0x0)\n\tC:/Program Files/Go/src/database/sql/sql.go:3014 +0x1c\ngithub.com/ughhuh/go-email-server/backend.(*PSQLProcessor).getValidRecepients(0xc00006cc00, 0x3?, {0xc00019a420, 0x2, 0xf48260?})\n\tC:/Users/alegal/Desktop/thesis/go-email-server/backend/p_postgre.go:287 +0x13f\ngithub.com/ughhuh/go-email-server/backend.PSQL.func3.1(0xc0000be580, 0x2?)\n\tC:/Users/alegal/Desktop/thesis/go-email-server/backend/p_postgre.go:154 +0xb15\ngithub.com/phires/go-guerrilla/backends.ProcessWith.Process(0xc0001b4000?, 0xc00019a260?, 0x1?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/processor.go:37 +0x1c\ngithub.com/phires/go-guerrilla/backends.Debugger.func2.1(0xc0000be580, 0xc0001849b0?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/p_debugger.go:64 +0x2e6\ngithub.com/phires/go-guerrilla/backends.ProcessWith.Process(0x14230a0?, 0x2?, 0xc00020bb68?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/processor.go:37 +0x1c\ngithub.com/phires/go-guerrilla/backends.init.4.func1.Hasher.1.1(0xc0000be580, 0x1?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/p_hasher.go:53 +0x3b7\ngithub.com/phires/go-guerrilla/backends.ProcessWith.Process(0xc0001941c6?, 0xc0001ac360?, 0x139d320?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/processor.go:37 +0x1c\ngithub.com/phires/go-guerrilla/backends.Header.func2.1(0xc0000be580, 0xffffffffffffffff?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/p_header.go:77 +0x4cb\ngithub.com/phires/go-guerrilla/backends.ProcessWith.Process(0xc0000be580?, 0xc00005f880?, 0xc00020bf08?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/processor.go:37 +0x1c\ngithub.com/phires/go-guerrilla/backends.init.6.func1.HeadersParser.1.1(0xc0000be580, 0x1?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/p_headers_parser.go:32 +0xb4\ngithub.com/phires/go-guerrilla/backends.ProcessWith.Process(0xc00020bf08?, 0xc00020be90?, 0x0?)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/processor.go:37 +0x1c\ngithub.com/phires/go-guerrilla/backends.(*BackendGateway).workDispatcher(0x0?, 0xc00007a660, {0x105e4a0, 0xc0000087f8}, {0x105e540, 0x14230a0}, 0x2, 0xc00001e7e0)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/gateway.go:459 +0x22a\ngithub.com/phires/go-guerrilla/backends.(*BackendGateway).Start.func1(0x1, 0xc00001e7e0)\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/gateway.go:357 +0x85\ncreated by github.com/phires/go-guerrilla/backends.(*BackendGateway).Start in goroutine 1\n\tC:/Users/alegal/go/pkg/mod/github.com/phires/go-guerrilla@v1.6.6/backends/gateway.go:354 +0x25c\n"
time="2024-10-30T16:36:56+02:00" level=info msg="processing worker started (#2)"
time="2024-10-30T16:36:56+02:00" level=debug msg="Writing response to client: \n554 5.5.0 Error: storage failed\r\n"
time="2024-10-30T16:36:56+02:00" level=debug msg="Client sent: rset"
time="2024-10-30T16:36:56+02:00" level=debug msg="Writing response to client: \n250 2.1.0 OK\r\n"
time="2024-10-30T16:36:56+02:00" level=debug msg="Client sent: "
time="2024-10-30T16:36:56+02:00" level=warning msg="Client closed the connection: ::1" error=EOF
